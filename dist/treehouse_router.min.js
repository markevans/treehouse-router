!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r;(function(i){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var u=n(1),s=o(u);i.define&&n(5)?(r=function(){return s}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))):i.module&&e.exports?e.exports=s:i.treehouseRouter=s}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(2),o=r(i),u=n(3),s=r(u),a=n(4),c=r(a);e.exports={Router:o["default"],serializers:{json:s["default"],simple:c["default"]}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)?n[t]=e[t]:n[t]=null}),n},o=function(){function e(t,r,i){var o=this;n(this,e),this.treehouse=t,this.treeView=this.treehouse.pick(r),this.serializer=i,this.stateKeys=Object.keys(this.treeView.items()),this.treeView.watch(function(e){o.setState(e.get())}),window.addEventListener("hashchange",function(){o.doChangedAction()},!1),this.doChangedAction()}return r(e,[{key:"doChangedAction",value:function(){this.treehouse.actions["do"]("router:urlChanged",{router:this})}},{key:"push",value:function(){this.treeView.set(this.state())}},{key:"state",value:function t(){var e=this.hash(),t=e?this.serializer.deserialize(e):{};return i(t,this.stateKeys)}},{key:"setState",value:function(e){this.setHash(this.serializer.serialize(e))}},{key:"hash",value:function(){var e=window.location.href.match(/#(.*)$/);return e?window.decodeURI(e[1]):""}},{key:"setHash",value:function(e){window.location.hash=window.encodeURI(e)}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={serialize:function(e){return JSON.stringify(e)},deserialize:function(e){return JSON.parse(e)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={serialize:function(e){var t="";for(var n in e)null!=e[n]&&(t=t+"/"+n+"/"+e[n]);return t},deserialize:function(e){for(var t=e.split("/"),n={},r=1;r<t.length;r+=2)n[t[r]]=t[r+1];return n}},e.exports=t["default"]},function(e,t){(function(t){e.exports=t}).call(t,{})}]);